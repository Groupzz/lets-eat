<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="'stylesheet" href="/stylesheets/map.css">
    <link rel="icon" href='/images/logo2.gif'>

    <!---Title of webpage--->
    <title>Directions</title>
    <script>
        var start, end, directionsService, directionsRenderer;
        function initMap() {
            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer();
            start = new google.maps.LatLng(37.7699298, -122.4469157);
            end = new google.maps.LatLng(37.7683909618184, -122.51089453697205);
            var mapOptions = {
                zoom: 14,
                center: haight
            }
            var map = new google.maps.Map(document.getElementById('map'), mapOptions);
            directionsRenderer.setMap(map);
            directionsRenderer.setPanel(document.getElementById('directionsPanel'));
        }

        function calcRoute() {
            var request = {
                origin:start,
                destination:end,
                travelMode: 'DRIVING'
            };
            directionsService.route(request, function(response, status) {
                if (status == 'OK') {
                    directionsRenderer.setDirections(response);
                }
            });
        }
        // var directionsService, directionsRenderer, map, startMarker, endMarker,poss;
        // function initMap() {
        //     directionsService = new google.maps.DirectionsService();
        //     directionsRenderer = new google.maps.DirectionsRenderer();
        //     map = new google.maps.Map(document.getElementById('map'), {
        //         zoom: 14
        //     });
        //     infoWindow = new google.maps.InfoWindow;
        //
        //     // Try HTML5 geolocation.
        //     if (navigator.geolocation) {
        //         navigator.geolocation.getCurrentPosition(function(position) {
        //             var pos = {
        //                 lat: position.coords.latitude,
        //                 lng: position.coords.longitude
        //             };
        //             infoWindow.setPosition(pos);
        //             infoWindow.setContent('Current Location');
        //             infoWindow.open(map);
        //             map.setCenter(pos);
        //
        //             poss = {
        //                 lat: restaurant.coordinates.latitude,
        //                 lng: restaurant.coordinates.longitude
        //             }
        //
        //             endMarker = new google.maps.Marker({position: poss, map: map});
        //             startMarker = new google.maps.Marker({position: pos, map: map});
        //         }, function() {
        //             console.log("Error");
        //             handleLocationError(true, infoWindow, map.getCenter());
        //         });
        //     } else {
        //         // Browser doesn't support Geolocation
        //         handleLocationError(false, infoWindow, map.getCenter());
        //     }
        //     directionsRenderer.setMap(map);
        //
        //     calculateAndDisplayRoute();
        // }
        //
        // function calculateAndDisplayRoute() {
        //     if (navigator.geolocation) {
        //         navigator.geolocation.getCurrentPosition(function(position) {
        //             startMarker.setMap(null);
        //             endMarker.setMap(null);
        //             var pos = {
        //                 lat: position.coords.latitude,
        //                 lng: position.coords.longitude
        //             };
        //             directionsService.route(
        //                 {
        //                     origin: {
        //                         lat: pos.lat,
        //                         lng: pos.lng
        //                     },
        //                     destination: {
        //                         lat: restaurant.coordinates.latitude,
        //                         lng: restaurant.coordinates.longitude
        //                     },
        //                     travelMode: 'DRIVING'
        //                 },
        //                 function(response, status) {
        //                     if (status === 'OK') {
        //                         directionsRenderer.setDirections(response);
        //                     } else {
        //                         window.alert('Directions request failed due to ' + status);
        //                     }
        //                 });
        //         }, function() {
        //             console.log("Error");
        //             handleLocationError(true, infoWindow, map.getCenter());
        //         });
        //     } else {
        //         // Browser doesn't support Geolocation
        //         handleLocationError(false, infoWindow, map.getCenter());
        //     }
        //
        // }
        //
        // function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        //     infoWindow.setPosition(pos);
        //     infoWindow.setContent(browserHasGeolocation ?
        //         'Error: The Geolocation service failed.' :
        //         'Error: Your browser doesn\'t support geolocation.');
        //     infoWindow.open(map);
        // }
    </script>
</head>
<body>
<div id="map"></div>
<div id="directionsPanel"></div>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApKBreU4wt1M8_x0wa5wHmYCt5MNHMum4
&callback=initMap">
</script>
</body>
</html>
